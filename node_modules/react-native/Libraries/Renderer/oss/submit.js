submitFormHandler = () =>{
    let isFormValid = true;
    let dataToSubmit = {};
    const formCopy = this.state.form;

    for(let key in formCopy){
      isFormValid = isFormValid && formCopy[key].valid;
      dataToSubmit[key] = this.state.form[key].value;
    }

    if(isFormValid){
       this.setState({
         loading:true
       });

       getTokens((value)=>{
          const dateNow = new Date();
          const expiration = dateNow.getTime();
          const form = {
            ...dataToSubmit,
            uid:value[3][1]
          }

          if(expiration > value[2][1]){
            this.props.autoSignIn(value[1][1]).then(()=>{
              setTokens(this.props.User.userData,()=>{

                this.props.addArticle(form,this.props.User.userData.token).then(()=>{
                  this.setState({modalSuccess:true})
                })
              })
            })
          } else{
            this.props.addArticle(form,value[0][1]).then(()=>{
              this.setState({modalSuccess:true})
            })
          }
       })

    } else {
      let errorsArray = [];

      for(let key in formCopy){
        if(!formCopy[key].valid){
          errorsArray.push(formCopy[key].errorMsg)
        }
      }

     this.setState({
       loading:false,
       upload:true,
       hasErrors:true,
       modalVisible:true,
       errorsArray
     })
    }
  }